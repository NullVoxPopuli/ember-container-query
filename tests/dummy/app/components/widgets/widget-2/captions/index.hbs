<ContainerQuery
  @features={{hash
    large=(cq-width min=320)
    tall=(cq-height min=80)
  }}
  as |CQ|
>
  <div
    local-class="container {{unless CQ.features.tall "flat"}}"
    {{did-insert this.showSummary}}
    {{did-update this.showSummary this.summaries}}
  >
    {{#if this.summary}}
      <div local-class="summary {{if CQ.features.large "horizontal-layout"}}">
        <h3
          data-test-field="Music Format"
          local-class="music-format {{unless CQ.features.large "small-font-size"}}"
        >
          {{!-- template-lint-disable no-inline-styles style-concatenation --}}
          <span
            aria-hidden="true"
            local-class="marker"
            style={{this.styleForMarker}}
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
              <path d="M0 0h24v24H0z" fill="none"></path>
              <path d="M6 6h12v12H6z"></path>
            </svg>
          </span>
          {{!-- template-lint-enable no-inline-styles style-concatenation --}}

          {{this.summary.musicFormat}}
        </h3>

        <div
          data-test-field="Annual Revenue"
          local-class="annual-revenue"
        >
          {{#if (or CQ.features.tall CQ.features.large)}}
            <span>Annual revenue:</span>
          {{/if}}
          <span local-class="highlight">
            {{this.summary.averageRevenue}}
          </span>
        </div>

        <div
          data-test-field="Relevant Years"
          local-class="relevant-years"
        >
          {{#if (or CQ.features.tall CQ.features.large)}}
            <span>Relevant years:</span>
          {{/if}}
          <span local-class="highlight">
            {{this.summary.relevantYears.min}} - {{this.summary.relevantYears.max}}
          </span>
        </div>
      </div>

      {{#if this.canShowPreviousButton}}
        <button
          aria-label="Previous"
          data-test-button="Previous"
          local-class="previous-button"
          type="button"
          {{on "click" (fn this.showNextSummary -1)}}
        >
          {{#if CQ.features.tall}}
            Previous

          {{else}}
            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" local-class="icon-arrow-back">
              <path d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z" transform="translate(6,0)"></path>
              <path d="M0 0h24v24H0z" fill="none"></path>
            </svg>

          {{/if}}
        </button>
      {{/if}}

      {{#if this.canShowNextButton}}
        <button
          aria-label="Next"
          data-test-button="Next"
          local-class="next-button"
          type="button"
          {{on "click" (fn this.showNextSummary 1)}}
        >
          {{#if CQ.features.tall}}
            Next

          {{else}}
            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" local-class="icon-arrow-forward">
              <path d="M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"></path>
              <path d="M0 0h24v24H0z" fill="none"></path>
            </svg>

          {{/if}}
        </button>
      {{/if}}
    {{/if}}
  </div>
</ContainerQuery>